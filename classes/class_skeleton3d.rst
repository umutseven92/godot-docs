:github_url: hide

.. Generated automatically by doc/tools/makerst.py in Godot's source tree.
.. DO NOT EDIT THIS FILE, but the Skeleton3D.xml source instead.
.. The source is found in doc/classes or modules/<name>/doc_classes.

.. _class_Skeleton3D:

Skeleton3D
==========

**Inherits:** :ref:`Node3D<class_Node3D>` **<** :ref:`Node<class_Node>` **<** :ref:`Object<class_Object>`

Skeleton for characters and animated objects.

Description
-----------

Skeleton3D provides a hierarchical interface for managing bones, including pose, rest and animation (see :ref:`Animation<class_Animation>`). It can also use ragdoll physics.

The overall transform of a bone with respect to the skeleton is determined by the following hierarchical order: rest pose, custom pose and pose.

Note that "global pose" below refers to the overall transform of the bone with respect to skeleton, so it not the actual global/world transform of the bone.

Tutorials
---------

- `3D Inverse Kinematics Demo <https://godotengine.org/asset-library/asset/523>`__

- `Third Person Shooter Demo <https://godotengine.org/asset-library/asset/678>`__

Properties
----------

+-------------------------+---------------------------------------------------------------------------------+----------+
| :ref:`bool<class_bool>` | :ref:`animate_physical_bones<class_Skeleton3D_property_animate_physical_bones>` | ``true`` |
+-------------------------+---------------------------------------------------------------------------------+----------+

Methods
-------

+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                                                  | :ref:`add_bone<class_Skeleton3D_method_add_bone>` **(** :ref:`String<class_String>` name **)**                                                                                                                                                                 |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                                                  | :ref:`add_bone_child<class_Skeleton3D_method_add_bone_child>` **(** :ref:`int<class_int>` bone_idx, :ref:`int<class_int>` child_bone_idx **)**                                                                                                                 |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                                                  | :ref:`clear_bones<class_Skeleton3D_method_clear_bones>` **(** **)**                                                                                                                                                                                            |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                                                  | :ref:`clear_bones_global_pose_override<class_Skeleton3D_method_clear_bones_global_pose_override>` **(** **)**                                                                                                                                                  |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                                                  | :ref:`clear_bones_local_pose_override<class_Skeleton3D_method_clear_bones_local_pose_override>` **(** **)**                                                                                                                                                    |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                                                  | :ref:`execute_modifications<class_Skeleton3D_method_execute_modifications>` **(** :ref:`float<class_float>` delta, :ref:`int<class_int>` execution_mode **)**                                                                                                  |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`int<class_int>`                                                 | :ref:`find_bone<class_Skeleton3D_method_find_bone>` **(** :ref:`String<class_String>` name **)** |const|                                                                                                                                                       |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                                                  | :ref:`force_update_all_bone_transforms<class_Skeleton3D_method_force_update_all_bone_transforms>` **(** **)**                                                                                                                                                  |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                                                  | :ref:`force_update_bone_child_transform<class_Skeleton3D_method_force_update_bone_child_transform>` **(** :ref:`int<class_int>` bone_idx **)**                                                                                                                 |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`PackedInt32Array<class_PackedInt32Array>`                       | :ref:`get_bone_children<class_Skeleton3D_method_get_bone_children>` **(** :ref:`int<class_int>` bone_idx **)**                                                                                                                                                 |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`int<class_int>`                                                 | :ref:`get_bone_count<class_Skeleton3D_method_get_bone_count>` **(** **)** |const|                                                                                                                                                                              |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`Transform3D<class_Transform3D>`                                 | :ref:`get_bone_custom_pose<class_Skeleton3D_method_get_bone_custom_pose>` **(** :ref:`int<class_int>` bone_idx **)** |const|                                                                                                                                   |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`Transform3D<class_Transform3D>`                                 | :ref:`get_bone_global_pose<class_Skeleton3D_method_get_bone_global_pose>` **(** :ref:`int<class_int>` bone_idx **)** |const|                                                                                                                                   |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`Transform3D<class_Transform3D>`                                 | :ref:`get_bone_global_pose_no_override<class_Skeleton3D_method_get_bone_global_pose_no_override>` **(** :ref:`int<class_int>` bone_idx **)** |const|                                                                                                           |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`Transform3D<class_Transform3D>`                                 | :ref:`get_bone_global_pose_override<class_Skeleton3D_method_get_bone_global_pose_override>` **(** :ref:`int<class_int>` bone_idx **)** |const|                                                                                                                 |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`Transform3D<class_Transform3D>`                                 | :ref:`get_bone_local_pose_override<class_Skeleton3D_method_get_bone_local_pose_override>` **(** :ref:`int<class_int>` bone_idx **)** |const|                                                                                                                   |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`String<class_String>`                                           | :ref:`get_bone_name<class_Skeleton3D_method_get_bone_name>` **(** :ref:`int<class_int>` bone_idx **)** |const|                                                                                                                                                 |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`int<class_int>`                                                 | :ref:`get_bone_parent<class_Skeleton3D_method_get_bone_parent>` **(** :ref:`int<class_int>` bone_idx **)** |const|                                                                                                                                             |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`Transform3D<class_Transform3D>`                                 | :ref:`get_bone_pose<class_Skeleton3D_method_get_bone_pose>` **(** :ref:`int<class_int>` bone_idx **)** |const|                                                                                                                                                 |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`Transform3D<class_Transform3D>`                                 | :ref:`get_bone_rest<class_Skeleton3D_method_get_bone_rest>` **(** :ref:`int<class_int>` bone_idx **)** |const|                                                                                                                                                 |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`SkeletonModificationStack3D<class_SkeletonModificationStack3D>` | :ref:`get_modification_stack<class_Skeleton3D_method_get_modification_stack>` **(** **)**                                                                                                                                                                      |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`PackedInt32Array<class_PackedInt32Array>`                       | :ref:`get_parentless_bones<class_Skeleton3D_method_get_parentless_bones>` **(** **)**                                                                                                                                                                          |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`Transform3D<class_Transform3D>`                                 | :ref:`global_pose_to_local_pose<class_Skeleton3D_method_global_pose_to_local_pose>` **(** :ref:`int<class_int>` bone_idx, :ref:`Transform3D<class_Transform3D>` global_pose **)**                                                                              |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`Transform3D<class_Transform3D>`                                 | :ref:`global_pose_to_world_transform<class_Skeleton3D_method_global_pose_to_world_transform>` **(** :ref:`Transform3D<class_Transform3D>` global_pose **)**                                                                                                    |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`Basis<class_Basis>`                                             | :ref:`global_pose_z_forward_to_bone_forward<class_Skeleton3D_method_global_pose_z_forward_to_bone_forward>` **(** :ref:`int<class_int>` bone_idx, :ref:`Basis<class_Basis>` basis **)**                                                                        |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`bool<class_bool>`                                               | :ref:`is_bone_rest_disabled<class_Skeleton3D_method_is_bone_rest_disabled>` **(** :ref:`int<class_int>` bone_idx **)** |const|                                                                                                                                 |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`Transform3D<class_Transform3D>`                                 | :ref:`local_pose_to_global_pose<class_Skeleton3D_method_local_pose_to_global_pose>` **(** :ref:`int<class_int>` bone_idx, :ref:`Transform3D<class_Transform3D>` local_pose **)**                                                                               |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                                                  | :ref:`localize_rests<class_Skeleton3D_method_localize_rests>` **(** **)**                                                                                                                                                                                      |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                                                  | :ref:`physical_bones_add_collision_exception<class_Skeleton3D_method_physical_bones_add_collision_exception>` **(** :ref:`RID<class_RID>` exception **)**                                                                                                      |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                                                  | :ref:`physical_bones_remove_collision_exception<class_Skeleton3D_method_physical_bones_remove_collision_exception>` **(** :ref:`RID<class_RID>` exception **)**                                                                                                |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                                                  | :ref:`physical_bones_start_simulation<class_Skeleton3D_method_physical_bones_start_simulation>` **(** :ref:`StringName[]<class_StringName>` bones=[] **)**                                                                                                     |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                                                  | :ref:`physical_bones_stop_simulation<class_Skeleton3D_method_physical_bones_stop_simulation>` **(** **)**                                                                                                                                                      |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`SkinReference<class_SkinReference>`                             | :ref:`register_skin<class_Skeleton3D_method_register_skin>` **(** :ref:`Skin<class_Skin>` skin **)**                                                                                                                                                           |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                                                  | :ref:`remove_bone_child<class_Skeleton3D_method_remove_bone_child>` **(** :ref:`int<class_int>` bone_idx, :ref:`int<class_int>` child_bone_idx **)**                                                                                                           |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                                                  | :ref:`set_bone_children<class_Skeleton3D_method_set_bone_children>` **(** :ref:`int<class_int>` bone_idx, :ref:`PackedInt32Array<class_PackedInt32Array>` bone_children **)**                                                                                  |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                                                  | :ref:`set_bone_custom_pose<class_Skeleton3D_method_set_bone_custom_pose>` **(** :ref:`int<class_int>` bone_idx, :ref:`Transform3D<class_Transform3D>` custom_pose **)**                                                                                        |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                                                  | :ref:`set_bone_disable_rest<class_Skeleton3D_method_set_bone_disable_rest>` **(** :ref:`int<class_int>` bone_idx, :ref:`bool<class_bool>` disable **)**                                                                                                        |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                                                  | :ref:`set_bone_global_pose_override<class_Skeleton3D_method_set_bone_global_pose_override>` **(** :ref:`int<class_int>` bone_idx, :ref:`Transform3D<class_Transform3D>` pose, :ref:`float<class_float>` amount, :ref:`bool<class_bool>` persistent=false **)** |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                                                  | :ref:`set_bone_local_pose_override<class_Skeleton3D_method_set_bone_local_pose_override>` **(** :ref:`int<class_int>` bone_idx, :ref:`Transform3D<class_Transform3D>` pose, :ref:`float<class_float>` amount, :ref:`bool<class_bool>` persistent=false **)**   |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                                                  | :ref:`set_bone_name<class_Skeleton3D_method_set_bone_name>` **(** :ref:`int<class_int>` bone_idx, :ref:`String<class_String>` name **)**                                                                                                                       |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                                                  | :ref:`set_bone_parent<class_Skeleton3D_method_set_bone_parent>` **(** :ref:`int<class_int>` bone_idx, :ref:`int<class_int>` parent_idx **)**                                                                                                                   |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                                                  | :ref:`set_bone_pose<class_Skeleton3D_method_set_bone_pose>` **(** :ref:`int<class_int>` bone_idx, :ref:`Transform3D<class_Transform3D>` pose **)**                                                                                                             |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                                                  | :ref:`set_bone_rest<class_Skeleton3D_method_set_bone_rest>` **(** :ref:`int<class_int>` bone_idx, :ref:`Transform3D<class_Transform3D>` rest **)**                                                                                                             |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                                                  | :ref:`set_modification_stack<class_Skeleton3D_method_set_modification_stack>` **(** :ref:`SkeletonModificationStack3D<class_SkeletonModificationStack3D>` modification_stack **)**                                                                             |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                                                  | :ref:`unparent_bone_and_rest<class_Skeleton3D_method_unparent_bone_and_rest>` **(** :ref:`int<class_int>` bone_idx **)**                                                                                                                                       |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`Transform3D<class_Transform3D>`                                 | :ref:`world_transform_to_global_pose<class_Skeleton3D_method_world_transform_to_global_pose>` **(** :ref:`Transform3D<class_Transform3D>` world_transform **)**                                                                                                |
+-----------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Signals
-------

.. _class_Skeleton3D_signal_bone_pose_changed:

- **bone_pose_changed** **(** :ref:`int<class_int>` bone_idx **)**

This signal is emitted when one of the bones in the Skeleton3D node have changed their pose. This is used to inform nodes that rely on bone positions that one of the bones in the Skeleton3D have changed their transform/pose.

----

.. _class_Skeleton3D_signal_pose_updated:

- **pose_updated** **(** **)**

Constants
---------

.. _class_Skeleton3D_constant_NOTIFICATION_UPDATE_SKELETON:

- **NOTIFICATION_UPDATE_SKELETON** = **50**

Property Descriptions
---------------------

.. _class_Skeleton3D_property_animate_physical_bones:

- :ref:`bool<class_bool>` **animate_physical_bones**

+-----------+-----------------------------------+
| *Default* | ``true``                          |
+-----------+-----------------------------------+
| *Setter*  | set_animate_physical_bones(value) |
+-----------+-----------------------------------+
| *Getter*  | get_animate_physical_bones()      |
+-----------+-----------------------------------+

Method Descriptions
-------------------

.. _class_Skeleton3D_method_add_bone:

- void **add_bone** **(** :ref:`String<class_String>` name **)**

Adds a bone, with name ``name``. :ref:`get_bone_count<class_Skeleton3D_method_get_bone_count>` will become the bone index.

----

.. _class_Skeleton3D_method_add_bone_child:

- void **add_bone_child** **(** :ref:`int<class_int>` bone_idx, :ref:`int<class_int>` child_bone_idx **)**

Takes the given bone pose/transform and converts it to a world transform, relative to the ``Skeleton3D`` node.

This is useful for using the bone transform in calculations with transforms from :ref:`Node3D<class_Node3D>`-based nodes.

----

.. _class_Skeleton3D_method_clear_bones:

- void **clear_bones** **(** **)**

Clear all the bones in this skeleton.

----

.. _class_Skeleton3D_method_clear_bones_global_pose_override:

- void **clear_bones_global_pose_override** **(** **)**

Removes the global pose override on all bones in the skeleton.

----

.. _class_Skeleton3D_method_clear_bones_local_pose_override:

- void **clear_bones_local_pose_override** **(** **)**

Removes the local pose override on all bones in the skeleton.

----

.. _class_Skeleton3D_method_execute_modifications:

- void **execute_modifications** **(** :ref:`float<class_float>` delta, :ref:`int<class_int>` execution_mode **)**

Executes all the modifications on the :ref:`SkeletonModificationStack3D<class_SkeletonModificationStack3D>`, if the Skeleton3D has one assigned.

----

.. _class_Skeleton3D_method_find_bone:

- :ref:`int<class_int>` **find_bone** **(** :ref:`String<class_String>` name **)** |const|

Returns the bone index that matches ``name`` as its name.

----

.. _class_Skeleton3D_method_force_update_all_bone_transforms:

- void **force_update_all_bone_transforms** **(** **)**

Force updates the bone transforms/poses for all bones in the skeleton.

----

.. _class_Skeleton3D_method_force_update_bone_child_transform:

- void **force_update_bone_child_transform** **(** :ref:`int<class_int>` bone_idx **)**

Force updates the bone transform for the bone at ``bone_idx`` and all of its children.

----

.. _class_Skeleton3D_method_get_bone_children:

- :ref:`PackedInt32Array<class_PackedInt32Array>` **get_bone_children** **(** :ref:`int<class_int>` bone_idx **)**

Returns an array containing the bone indexes of all the children node of the passed in bone, ``bone_idx``.

----

.. _class_Skeleton3D_method_get_bone_count:

- :ref:`int<class_int>` **get_bone_count** **(** **)** |const|

Returns the amount of bones in the skeleton.

----

.. _class_Skeleton3D_method_get_bone_custom_pose:

- :ref:`Transform3D<class_Transform3D>` **get_bone_custom_pose** **(** :ref:`int<class_int>` bone_idx **)** |const|

Returns the custom pose of the specified bone. Custom pose is applied on top of the rest pose.

----

.. _class_Skeleton3D_method_get_bone_global_pose:

- :ref:`Transform3D<class_Transform3D>` **get_bone_global_pose** **(** :ref:`int<class_int>` bone_idx **)** |const|

Returns the overall transform of the specified bone, with respect to the skeleton. Being relative to the skeleton frame, this is not the actual "global" transform of the bone.

----

.. _class_Skeleton3D_method_get_bone_global_pose_no_override:

- :ref:`Transform3D<class_Transform3D>` **get_bone_global_pose_no_override** **(** :ref:`int<class_int>` bone_idx **)** |const|

Returns the overall transform of the specified bone, with respect to the skeleton, but without any global pose overrides. Being relative to the skeleton frame, this is not the actual "global" transform of the bone.

----

.. _class_Skeleton3D_method_get_bone_global_pose_override:

- :ref:`Transform3D<class_Transform3D>` **get_bone_global_pose_override** **(** :ref:`int<class_int>` bone_idx **)** |const|

----

.. _class_Skeleton3D_method_get_bone_local_pose_override:

- :ref:`Transform3D<class_Transform3D>` **get_bone_local_pose_override** **(** :ref:`int<class_int>` bone_idx **)** |const|

Returns the local pose override transform for ``bone_idx``.

----

.. _class_Skeleton3D_method_get_bone_name:

- :ref:`String<class_String>` **get_bone_name** **(** :ref:`int<class_int>` bone_idx **)** |const|

Returns the name of the bone at index ``index``.

----

.. _class_Skeleton3D_method_get_bone_parent:

- :ref:`int<class_int>` **get_bone_parent** **(** :ref:`int<class_int>` bone_idx **)** |const|

Returns the bone index which is the parent of the bone at ``bone_idx``. If -1, then bone has no parent.

**Note:** The parent bone returned will always be less than ``bone_idx``.

----

.. _class_Skeleton3D_method_get_bone_pose:

- :ref:`Transform3D<class_Transform3D>` **get_bone_pose** **(** :ref:`int<class_int>` bone_idx **)** |const|

Returns the pose transform of the specified bone. Pose is applied on top of the custom pose, which is applied on top the rest pose.

----

.. _class_Skeleton3D_method_get_bone_rest:

- :ref:`Transform3D<class_Transform3D>` **get_bone_rest** **(** :ref:`int<class_int>` bone_idx **)** |const|

Returns the rest transform for a bone ``bone_idx``.

----

.. _class_Skeleton3D_method_get_modification_stack:

- :ref:`SkeletonModificationStack3D<class_SkeletonModificationStack3D>` **get_modification_stack** **(** **)**

Returns the modification stack attached to this skeleton, if one exists.

----

.. _class_Skeleton3D_method_get_parentless_bones:

- :ref:`PackedInt32Array<class_PackedInt32Array>` **get_parentless_bones** **(** **)**

Returns an array with all of the bones that are parentless. Another way to look at this is that it returns the indexes of all the bones that are not dependent or modified by other bones in the Skeleton.

----

.. _class_Skeleton3D_method_global_pose_to_local_pose:

- :ref:`Transform3D<class_Transform3D>` **global_pose_to_local_pose** **(** :ref:`int<class_int>` bone_idx, :ref:`Transform3D<class_Transform3D>` global_pose **)**

Takes the passed-in global pose and converts it to local pose transform.

This can be used to easily convert a global pose from :ref:`get_bone_global_pose<class_Skeleton3D_method_get_bone_global_pose>` to a global transform in :ref:`set_bone_local_pose_override<class_Skeleton3D_method_set_bone_local_pose_override>`.

----

.. _class_Skeleton3D_method_global_pose_to_world_transform:

- :ref:`Transform3D<class_Transform3D>` **global_pose_to_world_transform** **(** :ref:`Transform3D<class_Transform3D>` global_pose **)**

Takes the passed-in global pose and converts it to a world transform.

This can be used to easily convert a global pose from :ref:`get_bone_global_pose<class_Skeleton3D_method_get_bone_global_pose>` to a global transform usable with a node's transform, like :ref:`Node3D.global_transform<class_Node3D_property_global_transform>` for example.

----

.. _class_Skeleton3D_method_global_pose_z_forward_to_bone_forward:

- :ref:`Basis<class_Basis>` **global_pose_z_forward_to_bone_forward** **(** :ref:`int<class_int>` bone_idx, :ref:`Basis<class_Basis>` basis **)**

Rotates the given :ref:`Basis<class_Basis>` so that the forward axis of the Basis is facing in the forward direction of the bone at ``bone_idx``.

This is helper function to make using :ref:`Transform3D.looking_at<class_Transform3D_method_looking_at>` easier with bone poses.

----

.. _class_Skeleton3D_method_is_bone_rest_disabled:

- :ref:`bool<class_bool>` **is_bone_rest_disabled** **(** :ref:`int<class_int>` bone_idx **)** |const|

Returns whether the bone rest for the bone at ``bone_idx`` is disabled.

----

.. _class_Skeleton3D_method_local_pose_to_global_pose:

- :ref:`Transform3D<class_Transform3D>` **local_pose_to_global_pose** **(** :ref:`int<class_int>` bone_idx, :ref:`Transform3D<class_Transform3D>` local_pose **)**

Converts the passed-in local pose to a global pose relative to the inputted bone, ``bone_idx``.

This could be used to convert :ref:`get_bone_pose<class_Skeleton3D_method_get_bone_pose>` for use with the :ref:`set_bone_global_pose_override<class_Skeleton3D_method_set_bone_global_pose_override>` function.

----

.. _class_Skeleton3D_method_localize_rests:

- void **localize_rests** **(** **)**

Returns all bones in the skeleton to their rest poses.

----

.. _class_Skeleton3D_method_physical_bones_add_collision_exception:

- void **physical_bones_add_collision_exception** **(** :ref:`RID<class_RID>` exception **)**

Adds a collision exception to the physical bone.

Works just like the :ref:`RigidDynamicBody3D<class_RigidDynamicBody3D>` node.

----

.. _class_Skeleton3D_method_physical_bones_remove_collision_exception:

- void **physical_bones_remove_collision_exception** **(** :ref:`RID<class_RID>` exception **)**

Removes a collision exception to the physical bone.

Works just like the :ref:`RigidDynamicBody3D<class_RigidDynamicBody3D>` node.

----

.. _class_Skeleton3D_method_physical_bones_start_simulation:

- void **physical_bones_start_simulation** **(** :ref:`StringName[]<class_StringName>` bones=[] **)**

Tells the :ref:`PhysicalBone3D<class_PhysicalBone3D>` nodes in the Skeleton to start simulating and reacting to the physics world.

Optionally, a list of bone names can be passed-in, allowing only the passed-in bones to be simulated.

----

.. _class_Skeleton3D_method_physical_bones_stop_simulation:

- void **physical_bones_stop_simulation** **(** **)**

Tells the :ref:`PhysicalBone3D<class_PhysicalBone3D>` nodes in the Skeleton to stop simulating.

----

.. _class_Skeleton3D_method_register_skin:

- :ref:`SkinReference<class_SkinReference>` **register_skin** **(** :ref:`Skin<class_Skin>` skin **)**

Binds the given Skin to the Skeleton.

----

.. _class_Skeleton3D_method_remove_bone_child:

- void **remove_bone_child** **(** :ref:`int<class_int>` bone_idx, :ref:`int<class_int>` child_bone_idx **)**

Removes the passed in child bone index, ``child_bone_idx``, from the passed-in bone, ``bone_idx``, if it exists.

**Note:** This does not remove the child bone, but instead it removes the connection it has to the parent bone.

----

.. _class_Skeleton3D_method_set_bone_children:

- void **set_bone_children** **(** :ref:`int<class_int>` bone_idx, :ref:`PackedInt32Array<class_PackedInt32Array>` bone_children **)**

Sets the children for the passed in bone, ``bone_idx``, to the passed-in array of bone indexes, ``bone_children``.

----

.. _class_Skeleton3D_method_set_bone_custom_pose:

- void **set_bone_custom_pose** **(** :ref:`int<class_int>` bone_idx, :ref:`Transform3D<class_Transform3D>` custom_pose **)**

Sets the custom pose transform, ``custom_pose``, for the bone at ``bone_idx``. This pose is an addition to the bone rest pose.

**Note:** The pose transform needs to be in bone space. Use :ref:`world_transform_to_global_pose<class_Skeleton3D_method_world_transform_to_global_pose>` to convert a world transform, like one you can get from a :ref:`Node3D<class_Node3D>`, to bone space.

----

.. _class_Skeleton3D_method_set_bone_disable_rest:

- void **set_bone_disable_rest** **(** :ref:`int<class_int>` bone_idx, :ref:`bool<class_bool>` disable **)**

Disables the rest pose for the bone at ``bone_idx`` if ``true``, enables the bone rest if ``false``.

----

.. _class_Skeleton3D_method_set_bone_global_pose_override:

- void **set_bone_global_pose_override** **(** :ref:`int<class_int>` bone_idx, :ref:`Transform3D<class_Transform3D>` pose, :ref:`float<class_float>` amount, :ref:`bool<class_bool>` persistent=false **)**

Sets the global pose transform, ``pose``, for the bone at ``bone_idx``.

``amount`` is the interpolation strengh that will be used when applying the pose, and ``persistent`` determines if the applied pose will remain.

**Note:** The pose transform needs to be a global pose! Use :ref:`world_transform_to_global_pose<class_Skeleton3D_method_world_transform_to_global_pose>` to convert a world transform, like one you can get from a :ref:`Node3D<class_Node3D>`, to a global pose.

----

.. _class_Skeleton3D_method_set_bone_local_pose_override:

- void **set_bone_local_pose_override** **(** :ref:`int<class_int>` bone_idx, :ref:`Transform3D<class_Transform3D>` pose, :ref:`float<class_float>` amount, :ref:`bool<class_bool>` persistent=false **)**

Sets the local pose transform, ``pose``, for the bone at ``bone_idx``.

``amount`` is the interpolation strengh that will be used when applying the pose, and ``persistent`` determines if the applied pose will remain.

**Note:** The pose transform needs to be a local pose! Use :ref:`global_pose_to_local_pose<class_Skeleton3D_method_global_pose_to_local_pose>` to convert a global pose to a local pose.

----

.. _class_Skeleton3D_method_set_bone_name:

- void **set_bone_name** **(** :ref:`int<class_int>` bone_idx, :ref:`String<class_String>` name **)**

----

.. _class_Skeleton3D_method_set_bone_parent:

- void **set_bone_parent** **(** :ref:`int<class_int>` bone_idx, :ref:`int<class_int>` parent_idx **)**

Sets the bone index ``parent_idx`` as the parent of the bone at ``bone_idx``. If -1, then bone has no parent.

**Note:** ``parent_idx`` must be less than ``bone_idx``.

----

.. _class_Skeleton3D_method_set_bone_pose:

- void **set_bone_pose** **(** :ref:`int<class_int>` bone_idx, :ref:`Transform3D<class_Transform3D>` pose **)**

Sets the pose transform for bone ``bone_idx``.

**Note:** The pose transform needs to be in bone space. Use :ref:`world_transform_to_global_pose<class_Skeleton3D_method_world_transform_to_global_pose>` to convert a world transform, like one you can get from a :ref:`Node3D<class_Node3D>`, to bone space.

----

.. _class_Skeleton3D_method_set_bone_rest:

- void **set_bone_rest** **(** :ref:`int<class_int>` bone_idx, :ref:`Transform3D<class_Transform3D>` rest **)**

Sets the rest transform for bone ``bone_idx``.

----

.. _class_Skeleton3D_method_set_modification_stack:

- void **set_modification_stack** **(** :ref:`SkeletonModificationStack3D<class_SkeletonModificationStack3D>` modification_stack **)**

Sets the modification stack for this skeleton to the passed-in modification stack, ``modification_stack``.

----

.. _class_Skeleton3D_method_unparent_bone_and_rest:

- void **unparent_bone_and_rest** **(** :ref:`int<class_int>` bone_idx **)**

Unparents the bone at ``bone_idx`` and sets its rest position to that of its parent prior to being reset.

----

.. _class_Skeleton3D_method_world_transform_to_global_pose:

- :ref:`Transform3D<class_Transform3D>` **world_transform_to_global_pose** **(** :ref:`Transform3D<class_Transform3D>` world_transform **)**

Takes the passed-in global transform and converts it to a global pose.

This can be used to easily convert a global transform from :ref:`Node3D.global_transform<class_Node3D_property_global_transform>` to a global pose usable with :ref:`set_bone_global_pose_override<class_Skeleton3D_method_set_bone_global_pose_override>`, for example.

.. |virtual| replace:: :abbr:`virtual (This method should typically be overridden by the user to have any effect.)`
.. |const| replace:: :abbr:`const (This method has no side effects. It doesn't modify any of the instance's member variables.)`
.. |vararg| replace:: :abbr:`vararg (This method accepts any number of arguments after the ones described here.)`
.. |constructor| replace:: :abbr:`constructor (This method is used to construct a type.)`
.. |static| replace:: :abbr:`static (This method doesn't need an instance to be called, so it can be called directly using the class name.)`
.. |operator| replace:: :abbr:`operator (This method describes a valid operator to use with this type as left-hand operand.)`
